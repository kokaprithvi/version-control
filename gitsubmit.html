
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Upload Page</title>
  <script src="navbar.js" defer></script>
  <script src="./upload.js" type="module"></script>
  
<header>
  <div id="navbarContainer"></div>
</header>
  <hr/>

  <link rel="stylesheet" type="text/css" href="gitsubmit.css" />
<body>

  <!-- we need myform to rename the file submitted-->
  <form id="myForm">
    <label for="title">Title:</label>
    <input type="text" id="title" name="title"><br><br>
    
    <label for="dateInput">Date created:</label>
    <input type="date" id="date" name="date"><br><br>
    
    <button type="button" onclick="submitForm()">Submit</button>
  </form>
  <form>
  <input type="file" id="file-upload" accept=".pdf">
  <button onClick="run(); emailNotif()">Upload</button>
</form>

  <h1>DISCLAIMER:</h1>
  <h2>We do not allow content or activity on TextInc that:
    infringes any proprietary right of any party, including patent, trademark, trade secret, copyright, right of publicity, or other right;</h2>
</body>

<!-- Script for email -->
<script> 


      function emailNotif() {
          
          fetch('https://api.sendinblue.com/v3/smtp/email', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
                'api-key': 'API-KEY',
              },
              body: JSON.stringify({
                sender: {
                  name: 'TextInc',
                  email: 'sender@gmail.com',
                },
                to: [{ email: 'recipient.edu' }],
                subject: 'File waiting to be approved',
                htmlContent: 'New submission for upload approval. Action needed.',
              }),
            })
            .then(response => {
              if (response.ok) {
                console.log('Email sent successfully');
              } else {
                console.error('Failed to send email');
              }
            })
            .catch(error => {
              console.error('Error:', error);
            });
      }    
  </script>

